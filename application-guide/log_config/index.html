<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Log Configuration - Quick-DEV Programming Guide</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Log Configuration";
        var mkdocs_page_input_path = "application-guide\\log_config.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Quick-DEV Programming Guide
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Quick-DEV FWK</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../..">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../get_started/get_started/">Get Started</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Application Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../project_config/">Project Configuration</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Log Configuration</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../wifi/">WI-Fi</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ble/">BluetoothLE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../wifi_provision_via_ble/">WI-FI Provision Via BLE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cloud/">Cloud</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ota/">OTA</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/wifi_example/">WI-FI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/ble_example/">BLE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/qd_app_example/">QD_APP</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../Cloud">None</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../Peripheral">None</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../api-reference/wifi_apis/">WI-FI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../api-reference/ble_apis/">BluetoothLE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../api-reference/cloud_apis/">Cloud</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../api-reference/ota_apis/">OTA</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Quick-DEV Programming Guide</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Application Guide &raquo;</li><li>Log Configuration</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/kacj1234j/Doc_Test/edit/master/docs/application-guide/log_config.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="log-configuration">Log Configuration</h1>
<p>The Log Configuration <code>quick_dev\common\log\log.h</code> is the configuration that package one layer on bottom layer <code>tracer_log</code> in <code>sdk\SDK\APS\middleware\netlink\msg\msg.h</code>. The log configuration can help developer to trace and debug in application, the log can divide into four types that are debug, information, warnnimg and error. Developer can turn on the log level that they want to see according to their needs. To enter <code>tracer level &lt;task_index&gt; &lt;task_level:hex&gt;</code>  could turn on tracer level in debug mode. </p>
<p>If wanting to trace log with Log Configration, the developer could use <code>tracer_def_level_set()</code>  to set trcae log. The developer can refer to the following examples</p>
<pre><code class="language-c">static void Main_AppInit_patch(void)
{
    sys_cfg_clk_set(SYS_CFG_CLK_RATE);

    // set default tracer level in user app type to INFO, WARN, ERRO (DEBG not open)
    tracer_def_level_set(TRACER_TASK_TYPE_APP, 0x06);

    APP_MainInit();
}
</code></pre>
<p>The argument <code>TRACER_TASK_TYPE_APP</code> is a trace type that include <code>TRACER_TASK_TYPE_INTERNAL</code> (bottom layer) and <code>TRACER_TASK_TYPE_APP</code> (application) defined in <code>sdk\SDK\APS\middleware\netlink\msg\msg.h</code>. </p>
<pre><code class="language-c">typedef enum
{
    TRACER_TASK_TYPE_INTERNAL = 0,
    TRACER_TASK_TYPE_APP,

    TRACER_TASK_TYPE_MAX
} T_TracerTaskType;
</code></pre>
<p>The other argument <code>0x06</code> is trace level that developer want to trace. There are the following trace level in <code>sdk\SDK\APS\middleware\netlink\msg\msg.h</code>. </p>
<pre><code class="language-c">#define LOG_HIGH_LEVEL              0x04
#define LOG_MED_LEVEL               0x02
#define LOG_LOW_LEVEL               0x01
#define LOG_NONE_LEVEL              0x00
#define LOG_ALL_LEVEL               (LOG_HIGH_LEVEL | LOG_MED_LEVEL | LOG_LOW_LEVEL)
</code></pre>
<p>The argument <code>0x06</code> means trace log level turn on <code>LOG_HIGH_LEVEL</code> and <code>LOG_MED_LEVEL</code> but <code>LOG_LOW_LEVEL</code> is turn off. Log Configuration has the following log levels :</p>
<ul>
<li>Debug (<code>LOG_LOW_LEVEL</code>) </li>
</ul>
<pre><code class="language-c">#define OPL_LOG_DEBG(module, ...)                                           \
        {                                                                   \
            tracer_log(LOG_LOW_LEVEL, &quot;\x1B[0m[D][%s]&quot;, #module);           \
            tracer_log(LOG_LOW_LEVEL, __VA_ARGS__);                         \
            tracer_log(LOG_LOW_LEVEL, &quot;\r\n&quot;);                              \
        }
</code></pre>
<ul>
<li>Info (<code>LOG_MED_LEVEL</code>)</li>
</ul>
<pre><code class="language-c">#define OPL_LOG_INFO(module, ...)                                           \
        {                                                                   \
            tracer_log(LOG_MED_LEVEL, &quot;\x1B[0m[I][%s]&quot;, #module);           \
            tracer_log(LOG_MED_LEVEL, __VA_ARGS__);                         \
            tracer_log(LOG_MED_LEVEL, &quot;\r\n&quot;);                              \
        }
</code></pre>
<ul>
<li>Warn (<code>LOG_MED_LEVEL</code>)</li>
</ul>
<pre><code class="language-c">#define OPL_LOG_WARN(module, ...)                                           \
        {                                                                   \
            tracer_log(LOG_MED_LEVEL, &quot;\x1B[33m[W][%s]&quot;, #module);          \
            tracer_log(LOG_MED_LEVEL, __VA_ARGS__);                         \
            tracer_log(LOG_MED_LEVEL, &quot;\x1B[0m\r\n&quot;);                       \
        }
</code></pre>
<ul>
<li>Error (<code>LOG_HIGH_LEVEL</code>)</li>
</ul>
<pre><code class="language-c">#define OPL_LOG_ERRO(module, ...)                                           \
        {                                                                   \
            tracer_log(LOG_HIGH_LEVEL, &quot;\x1B[31m[E][%s]&quot;, #module);         \
            tracer_log(LOG_HIGH_LEVEL, __VA_ARGS__);                        \
            tracer_log(LOG_HIGH_LEVEL, &quot;\x1B[0m\r\n&quot;);                      \
        }

</code></pre>
<p>The developer could set what module in the argument <code>module</code>.</p>
<p>Log configuration can also be set according to the log of which module (e.g. BLE Manager log)the developer wants to see in <code>qd_module.h</code>. Module log enable set (1) (e.g. BM_LOG_ENABLED)</p>
<pre><code class="language-c">#ifndef BM_LOG_ENABLED
#define BM_LOG_ENABLED                          (1)
#endif
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../project_config/" class="btn btn-neutral float-left" title="Project Configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../wifi/" class="btn btn-neutral float-right" title="WI-Fi">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright 2022, MaxLiao corporation</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/kacj1234j/Doc_Test" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../project_config/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../wifi/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
